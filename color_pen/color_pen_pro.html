<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–¢—ñ–Ω—å –§–∞—Ä–±–æ–°–≤—ñ—Ç—É: MP3 Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap');

        :root {
            --glass: rgba(255, 255, 255, 0.1);
            --border: rgba(255, 255, 255, 0.2);
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #1a1a1a;
            color: #ecf0f1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
            overflow-x: hidden;
            touch-action: manipulation;
            user-select: none;
            position: relative;
        }

        /* –§–æ–Ω–æ–≤–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è */
        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
            background: radial-gradient(circle at center, #2c3e50, #000);
            transition: background 1s ease;
        }

        /* --- UI Elements --- */
        #ui-top {
            width: 100%; max-width: 600px;
            margin-bottom: 15px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 15px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            z-index: 10;
            position: relative;
        }

        #music-toggle {
            position: absolute;
            right: 10px; top: 10px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            width: 30px; height: 30px;
            border-radius: 50%;
            font-size: 14px;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            z-index: 20;
        }

        .soul-label {
            display: flex; justify-content: space-between;
            font-size: 12px; font-weight: 900; letter-spacing: 1px;
            text-transform: uppercase; margin-bottom: 8px;
            padding-right: 35px;
        }

        #soul-bar-bg {
            width: 100%; height: 8px;
            background: rgba(0,0,0,0.5); border-radius: 10px;
            position: relative; overflow: hidden;
        }

        #soul-fill {
            height: 100%; width: 50%;
            background: linear-gradient(90deg, #ff4757, #ffa502, #2ed573);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: width 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }

        /* --- –ï–ö–†–ê–ù –ì–†–ò --- */
        #game-screen {
            width: 100%; max-width: 600px;
            height: 45vh; min-height: 300px;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border);
            border-radius: 20px;
            position: relative;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
            transition: box-shadow 0.3s;
            margin-bottom: 20px;
            overflow: hidden;
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .shake-screen { animation: shake 0.5s; }

        .scene {
            display: flex; gap: 10%; align-items: center; z-index: 5;
            margin-bottom: 60px;
        }
        .char {
            font-size: 80px;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-origin: bottom center;
        }
        
        .hero-mad { filter: drop-shadow(0 0 25px #ff4757); transform: scale(1.2) rotate(-5deg); }
        .hero-happy { filter: drop-shadow(0 0 25px #2ed573); transform: scale(1.1) translateY(-10px); }
        .enemy-scared { opacity: 0; transform: translateX(100px) rotate(180deg) scale(0.5); filter: blur(10px); }
        .enemy-friend { transform: scale(1.2); filter: drop-shadow(0 0 20px gold); }

        /* --- –¢–ï–ö–°–¢ --- */
        #story-box {
            position: absolute; bottom: 20px; width: 90%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            padding: 15px; border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        #story-text { font-size: 16px; line-height: 1.5; margin: 0; min-height: 24px;}
        .cursor::after { content: '|'; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        #room-title {
            position: absolute; top: 15px; 
            color: rgba(255,255,255,0.5); 
            font-size: 12px; letter-spacing: 2px; text-transform: uppercase;
        }

        #history-icons {
            position: absolute; top: 15px; left: 15px;
            font-size: 18px; filter: grayscale(0.5);
        }

        /* --- –ö–ê–†–¢–ö–ò --- */
        #interaction-panel {
            width: 100%; max-width: 600px;
            display: flex; justify-content: space-between; gap: 10px;
        }

        .card {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            color: #fff; flex: 1; height: 130px;
            border-radius: 16px; cursor: pointer;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative; overflow: hidden;
        }
        
        .card::before {
            content: ''; position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(rgba(255,255,255,0.1), transparent);
            opacity: 0.5;
        }

        .card:active { transform: scale(0.95); box-shadow: inset 0 4px 10px rgba(0,0,0,0.5); }
        .card-icon { font-size: 40px; margin-bottom: 8px; text-shadow: 0 2px 5px rgba(0,0,0,0.5); }
        .card-text { font-size: 13px; font-weight: 700; opacity: 0.9; }

        .card.force { border-bottom: 4px solid #ff4757; }
        .card.kind { border-bottom: 4px solid #2ed573; }
        .card.smart { border-bottom: 4px solid #ffa502; }

        #next-btn {
            width: 100%; max-width: 600px;
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white; padding: 18px; font-size: 18px; font-weight: bold;
            border: none; border-radius: 15px;
            cursor: pointer; display: none; margin-top: 20px;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
            text-transform: uppercase; letter-spacing: 1px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }

        /* Overlay */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: white; text-align: center;
        }
        .start-btn {
            padding: 15px 30px; font-size: 20px; background: #2ed573; color: white;
            border: none; border-radius: 50px; cursor: pointer; margin-top: 20px;
            font-family: inherit; font-weight: bold;
            box-shadow: 0 0 20px #2ed573;
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
        <source src="music.ogg" type="audio/ogg">
    </audio>

    <canvas id="bg-canvas"></canvas>

    <div id="start-overlay">
        <h1>–¢—ñ–Ω—å –§–∞—Ä–±–æ–°–≤—ñ—Ç—É</h1>
        <p>–£–≤—ñ–º–∫–Ω—ñ—Ç—å –∑–≤—É–∫ –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è üéß</p>
        <button class="start-btn" onclick="startGame()">–ü–û–ß–ê–¢–ò –ì–†–£</button>
    </div>

    <div id="ui-top">
        <button id="music-toggle" onclick="toggleMusic()">üéµ</button>
        <div class="soul-label">
            <span style="color: #ff4757">‚ò†Ô∏è –°–∏–ª–∞</span>
            <span style="color: #2ed573">‚ù§Ô∏è –î–æ–±—Ä–æ—Ç–∞</span>
        </div>
        <div id="soul-bar-bg">
            <div id="soul-fill"></div>
        </div>
    </div>

    <div id="game-screen">
        <div id="history-icons"></div>
        <h2 id="room-title"></h2>

        <div class="scene">
            <div id="hero" class="char">üòê</div>
            <div id="enemy" class="char">üö™</div>
        </div>

        <div id="story-box">
            <p id="story-text" class="cursor">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
        </div>
    </div>

    <div id="interaction-panel"></div>
    
    <button id="next-btn" onclick="nextRoom()">–î–∞–ª—ñ ‚û°</button>

    <script>
        // --- AUDIO ENGINE ---
        const AudioFX = {
            ctx: null,
            musicElement: null,
            
            init: function() {
                window.AudioContext = window.AudioContext || window.webkitAudioContext;
                this.ctx = new AudioContext();
                this.musicElement = document.getElementById('bg-music');
                this.musicElement.volume = 0.3; // –ì—É—á–Ω—ñ—Å—Ç—å –º—É–∑–∏–∫–∏ (30%)
            },

            // –ï—Ñ–µ–∫—Ç–∏ (SFX) –∑–∞–ª–∏—à–∞—î–º–æ –∫–æ–¥–æ–º, —â–æ–± –Ω–µ –≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫—É–ø—É —Ñ–∞–π–ª—ñ–≤
            playTone: function(freq, type, duration, vol = 0.1) {
                if (!this.ctx) return;
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = type;
                osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
                gain.gain.setValueAtTime(vol, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + duration);
                osc.connect(gain);
                gain.connect(this.ctx.destination);
                osc.start();
                osc.stop(this.ctx.currentTime + duration);
            },
            playBoom: function() {
                this.playTone(80, 'sawtooth', 0.6, 0.2);
                setTimeout(() => this.playTone(40, 'square', 0.6, 0.2), 50);
            },
            playChime: function() {
                this.playTone(600, 'sine', 0.8, 0.05);
                setTimeout(() => this.playTone(800, 'sine', 0.8, 0.05), 100);
                setTimeout(() => this.playTone(1200, 'sine', 1.2, 0.03), 200);
            },
            playClick: function() {
                this.playTone(400, 'triangle', 0.1, 0.05);
            },
            playSmart: function() {
                this.playTone(300, 'sine', 0.3, 0.1);
                setTimeout(() => this.playTone(450, 'sine', 0.5, 0.1), 100);
            },

            // –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è MP3
            startMusic: function() {
                if (this.musicElement) {
                    this.musicElement.play().catch(e => {
                        console.log("–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –º—É–∑–∏–∫–∏ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ, —á–µ–∫–∞—î–º–æ –≤–∑–∞—î–º–æ–¥—ñ—ó:", e);
                    });
                }
            },

            toggleMute: function() {
                if (this.musicElement.paused) {
                    this.musicElement.play();
                    return false; // –ì—Ä–∞—î (–Ω–µ –∑–∞–º'—é—á–µ–Ω–æ)
                } else {
                    this.musicElement.pause();
                    return true; // –ü–∞—É–∑–∞ (–∑–∞–º'—é—á–µ–Ω–æ)
                }
            }
        };

        function toggleMusic() {
            const isMuted = AudioFX.toggleMute();
            const btn = document.getElementById('music-toggle');
            btn.innerText = isMuted ? 'üîá' : 'üéµ';
        }

        // --- PARTICLE SYSTEM ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2;
                this.speedX = (Math.random() - 0.5) * 0.5;
                this.speedY = (Math.random() - 0.5) * 0.5;
                this.opacity = Math.random() * 0.5;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
            draw() {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            for (let i = 0; i < 40; i++) particles.push(new Particle());
            animateParticles();
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }

        // --- GAME DATA ---
        const rooms = [
            {
                name: "–†—ñ–≤–µ–Ω—å 1: –°—Ç–∞—Ä–∞ –ë—Ä–∞–º–∞",
                desc: "–¢–≤—ñ–π –¥—Ä—É–≥ –∑–∞ –∑–∞–º–∫–Ω–µ–Ω–∏–º–∏ –¥–≤–µ—Ä–∏–º–∞. –ß—É—Ç–∏ —à—É—Ä—Ö—ñ—Ç...",
                bg: "radial-gradient(circle at center, #2c3e50, #000)",
                hero: "üòê", enemy: "üö™",
                choices: [
                    { type: "force", icon: "üí£", title: "–í–∏–±—É—Ö", res: "–ë–ê-–ë–ê–•! –¢—Ä—ñ—Å–∫–∏ –ª–µ—Ç—è—Ç—å —É—Å—é–¥–∏!", val: -20 },
                    { type: "kind", icon: "üóùÔ∏è", title: "–ö–ª—é—á", res: "–ö–ª–∞—Ü... –ú–µ—Ö–∞–Ω—ñ–∑–º –ø—ñ–¥–¥–∞–≤—Å—è.", val: 20 },
                    { type: "smart", icon: "üßÄ", title: "–ü—Ä–∏–º–∞–Ω–∫–∞", res: "–ú–∏—à–∫–∞ –ø—Ä–æ–≥—Ä–∏–∑–ª–∞ –ø—Ä–æ—Ö—ñ–¥!", val: 5 }
                ]
            },
            {
                name: "–†—ñ–≤–µ–Ω—å 2: –ü–ª–∞–∫—É—á–∏–π –ü—Ä–∏–≤–∏–¥",
                desc: "–ü—Ä–∏–≤–∏–¥ –∑–∞–≤–∏–≤–∞—î –≤—ñ–¥ —Å–∞–º–æ—Ç–Ω–æ—Å—Ç—ñ...",
                bg: "radial-gradient(circle at center, #4834d4, #130f40)",
                hero: "üò®", enemy: "üëª",
                choices: [
                    { type: "force", icon: "üî¶", title: "–°–≤—ñ—Ç–ª–æ", res: "–ü—Ä–∏–≤–∏–¥ —Ä–æ–∑—Ç–∞–Ω—É–≤ –∑ –∫—Ä–∏–∫–æ–º!", val: -20 },
                    { type: "kind", icon: "üß∏", title: "–î—Ä—É–≥", res: "–í—ñ–Ω –æ–±—ñ–π–Ω—è–≤ —ñ–≥—Ä–∞—à–∫—É —ñ –∑–∞—Ç–∏—Ö.", val: 20 },
                    { type: "smart", icon: "üì∫", title: "–®–æ—É", res: "–í—ñ–Ω –∑–∞–¥–∏–≤–∏–≤—Å—è –≤ –µ–∫—Ä–∞–Ω.", val: 10 }
                ]
            },
            {
                name: "–†—ñ–≤–µ–Ω—å 3: –ñ–∞–¥—ñ–±–Ω–∏–π –ì–æ–±–ª—ñ–Ω",
                desc: "–í—ñ–Ω –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î –º–æ–Ω–µ—Ç–∏ —ñ –≥–∞—Ä—á–∏—Ç—å.",
                bg: "radial-gradient(circle at center, #d35400, #2c1e10)",
                hero: "ü§î", enemy: "üë∫",
                choices: [
                    { type: "force", icon: "‚öîÔ∏è", title: "–ê—Ç–∞–∫–∞", res: "–¢–∏ –Ω–∞–ª—è–∫–∞–≤ –π–æ–≥–æ –¥–æ –≥–∏–∫–∞–≤–∫–∏!", val: -20 },
                    { type: "kind", icon: "üçé", title: "–á–∂–∞", res: "–í—ñ–Ω –∑'—ó–≤ —ñ —Å—Ç–∞–≤ –¥–æ–±—Ä–∏–º.", val: 20 },
                    { type: "smart", icon: "üí∞", title: "–û–±–º—ñ–Ω", res: "–í–∏ —É–∫–ª–∞–ª–∏ –≤–∏–≥—ñ–¥–Ω—É —É–≥–æ–¥—É.", val: 10 }
                ]
            },
            {
                name: "–†—ñ–≤–µ–Ω—å 4: –î—Ä–∞–∫–æ–Ω –°–Ω—É",
                desc: "–í–µ–ª–µ—Ç–µ–Ω—Å—å–∫–∏–π –¥—Ä–∞–∫–æ–Ω —Ö—Ä–æ–ø–µ –Ω–∞ —à–ª—è—Ö—É.",
                bg: "radial-gradient(circle at center, #27ae60, #05240a)",
                hero: "ü§´", enemy: "üê≤",
                choices: [
                    { type: "force", icon: "üì¢", title: "–ì—É–¥–æ–∫", res: "–í—ñ–Ω –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è —ñ –¥–∏—Ö–Ω—É–≤ –≤–æ–≥–Ω–µ–º!", val: -30 },
                    { type: "kind", icon: "üéª", title: "–ö–æ–ª–∏—Å–∫–æ–≤–∞", res: "–í—ñ–Ω –∑–∞—Å–Ω—É–≤ —â–µ –º—ñ—Ü–Ω—ñ—à–µ.", val: 20 },
                    { type: "smart", icon: "üçñ", title: "–ú'—è—Å–æ", res: "–í—ñ–Ω –ø–æ—ó–≤ —É–≤—ñ —Å–Ω—ñ —ñ –≤—ñ–¥—Å—É–Ω—É–≤—Å—è.", val: 10 }
                ]
            }
        ];

        let currentRoom = 0;
        let score = 50;
        let inventory = [];

        const ui = {
            title: document.getElementById('room-title'),
            text: document.getElementById('story-text'),
            panel: document.getElementById('interaction-panel'),
            hero: document.getElementById('hero'),
            enemy: document.getElementById('enemy'),
            screen: document.getElementById('game-screen'),
            bar: document.getElementById('soul-fill'),
            history: document.getElementById('history-icons'),
            nextBtn: document.getElementById('next-btn'),
            bgCanvas: document.getElementById('bg-canvas')
        };

        function startGame() {
            document.getElementById('start-overlay').style.display = 'none';
            AudioFX.init();
            AudioFX.startMusic();
            initParticles();
            loadRoom(0);
        }

        function typeText(text, element) {
            element.innerText = "";
            element.classList.add('cursor');
            let i = 0;
            let speed = 30; 
            function type() {
                if (i < text.length) {
                    element.innerText += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    element.classList.remove('cursor');
                }
            }
            type();
        }

        function loadRoom(idx) {
            if (idx >= rooms.length) {
                showFinal();
                return;
            }
            
            const r = rooms[idx];
            ui.title.innerText = r.name;
            typeText(r.desc, ui.text);
            ui.bgCanvas.style.background = r.bg;
            
            ui.hero.className = "char";
            ui.hero.innerText = r.hero;
            ui.enemy.className = "char";
            ui.enemy.innerText = r.enemy;
            ui.enemy.style.opacity = 1;
            ui.screen.classList.remove('shake-screen');
            ui.screen.style.borderColor = "rgba(255,255,255,0.2)";

            ui.nextBtn.style.display = "none";
            ui.panel.style.display = "flex";
            ui.panel.innerHTML = "";

            r.choices.forEach(c => {
                let card = document.createElement("div");
                card.className = `card ${c.type}`;
                card.onclick = () => makeChoice(c);
                card.innerHTML = `
                    <div class="card-icon">${c.icon}</div>
                    <div class="card-text">${c.title}</div>
                `;
                ui.panel.appendChild(card);
            });
        }

        function makeChoice(choice) {
            score += choice.val;
            if (score < 0) score = 0;
            if (score > 100) score = 100;
            ui.bar.style.width = score + "%";

            typeText(choice.res, ui.text);
            inventory.push(choice.icon);
            let recentInventory = inventory.slice(-5);
            ui.history.innerText = recentInventory.join(" ");

            if (choice.type === "force") {
                AudioFX.playBoom();
                ui.hero.className = "char hero-mad";
                ui.enemy.className = "char enemy-scared";
                ui.screen.classList.add('shake-screen');
                ui.screen.style.borderColor = "#ff4757";
            } else if (choice.type === "kind") {
                AudioFX.playChime();
                ui.hero.className = "char hero-happy";
                ui.enemy.className = "char enemy-friend";
                ui.screen.style.borderColor = "#2ed573";
            } else {
                AudioFX.playSmart();
                ui.enemy.style.opacity = 0.5;
                ui.screen.style.borderColor = "#ffa502";
            }

            ui.panel.style.display = "none";
            ui.nextBtn.style.display = "block";
        }

        function nextRoom() {
            AudioFX.playClick();
            currentRoom++;
            loadRoom(currentRoom);
        }

        function showFinal() {
            AudioFX.playChime();
            ui.panel.style.display = "none";
            ui.nextBtn.style.display = "none";
            ui.hero.innerText = "ü§¥";
            ui.enemy.innerText = "üôé‚Äç‚ôÇÔ∏è"; 
            ui.enemy.className = "char";
            ui.history.style.display = "none";

            let title, msg, color;
            if (score < 40) {
                title = "–¢–∏ ‚Äî –í–æ—ó–Ω –¢–µ–º—Ä—è–≤–∏!";
                msg = "–í—Å—ñ —Ç–µ–±–µ –±–æ—è—Ç—å—Å—è. –î—Ä—É–≥ –≤—Ä—è—Ç–æ–≤–∞–Ω–∏–π, –∞–ª–µ —Ç—Ä–µ–º—Ç–∏—Ç—å –≤—ñ–¥ —Ç–≤–æ–≥–æ –ø–æ–≥–ª—è–¥—É.";
                color = "#ff4757";
            } else if (score > 60) {
                title = "–¢–∏ ‚Äî –°–µ—Ä—Ü–µ –°–≤—ñ—Ç–ª–∞!";
                msg = "–ú–æ–Ω—Å—Ç—Ä–∏ —Ç–µ–ø–µ—Ä —Ç–≤–æ—ó –¥—Ä—É–∑—ñ. –¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ –≤—Ä—è—Ç—É–≤–∞–ª–∞ —Å–≤—ñ—Ç.";
                color = "#2ed573";
            } else {
                title = "–¢–∏ ‚Äî –ú–∞–π—Å—Ç–µ—Ä –†–æ–∑—É–º—É!";
                msg = "–¢–≤—ñ–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –∑–Ω–∞–π—à–æ–≤ –≤–∏—Ö—ñ–¥ –∑ –±–µ–∑–Ω–∞–¥—ñ–π–Ω–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó!";
                color = "#ffa502";
            }

            ui.title.innerText = "–§–Ü–ù–ê–õ –Ü–°–¢–û–†–Ü–á";
            ui.text.innerHTML = `<span style="color:${color}; font-size:22px; font-weight:bold; text-shadow:0 0 10px ${color}">${title}</span><br><br>${msg}`;
            
            let restartBtn = document.createElement("button");
            restartBtn.innerText = "üîÑ –ó—ñ–≥—Ä–∞—Ç–∏ —â–µ —Ä–∞–∑";
            restartBtn.id = "next-btn";
            restartBtn.style.display = "block";
            restartBtn.style.background = color;
            restartBtn.onclick = () => location.reload();
            ui.panel.parentNode.appendChild(restartBtn);
        }
    </script>
</body>
</html>
